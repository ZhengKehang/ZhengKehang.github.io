(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{159:function(E,B,t){"use strict";t.r(B);var s=t(0),A=Object(s.a)({},(function(){var E=this,B=E.$createElement,t=E._self._c||B;return t("ContentSlotsDistributor",{attrs:{"slot-key":E.$parent.slotKey}},[t("p",[E._v("改造前：")]),E._v(" "),t("p",[E._v("1.页面数量\n列表页入口\n"),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/5.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/6.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/7.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/8.jpg",alt:""}}),E._v("\n列表页：\n"),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/9.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/10.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/11.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/12.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/13.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/14.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/15.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/16.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/17.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/18.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/19.jpg",alt:""}})]),E._v(" "),t("p",[E._v("2.1.项目目录\n"),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/1.jpg",alt:""}}),E._v("\n每一个HSE目录下的文件夹中都有一个列表页，对应入口一共10个页面\n2.2项目代码：代码的量，代码内容\n每一个页面的代码都包含html/css/js代码\n"),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/2.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/3.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/4.jpg",alt:""}}),E._v("\n页面之间代码有一定差异\n代码的量:每个页面平均210行代码，每个页面代码字符数约为6200，共62000字符的代码；\n改造后：\n1.代码量对比(具体数据)\n代码集中在一个hseCardList.vue和hseService.js文件中；\n代码量：5500+8000 = 13500字符的代码\n2.代码维护的对比(搜索改版)\n接到一个改版需求，将样式从A->B\n"),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/19.jpg",alt:""}}),E._v(" "),t("img",{attrs:{src:"%E4%BB%8E%E5%90%88%E5%B9%B6HSE%E9%A1%B5%E9%9D%A2%E6%B5%85%E8%B0%88%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91_files/20.jpg",alt:""}}),E._v("\n旧版修改次数为10、新版修改次数为1，同时无需考虑，不同页面样式书写方式，带来的不同改版方式。大大提高了代码维护效率。")]),E._v(" "),t("p",[E._v("改造方案：\n1.页面分析：\n1.1提取页面组件\n1.2提取功能点～封装js 方法")]),E._v(" "),t("p",[E._v("为什么原先是将类似的页面写在")]),E._v(" "),t("p",[E._v("1.3把封装的放在哪里是个问题？\n我们项目组提取了一套js脚手架放在js文件夹下面：\n脚手架的目录结构极其作用：\n1.4代码如何引用(关键代码展示)\n1.5这次改造是如何运用这套脚手架的？\n1.6谈谈脚手架的其他优势")]),E._v(" "),t("p",[E._v("1.观察设计图，观察ui结构，提取功能点\n从设计图看我们这里有：\n1.1一级类目页面\n功能点：展示、点击跳转（二级页面或者列表页面）\n1.2二级类目页面\n功能点：根据不同入口展示、点击跳转\n用category去标识从哪个入口进来\n用标识字段判断去加载相应的数据\n1.3列表页面\n功能点：列表页展示、加载更多、列表页刷新、搜索、查看详情、添加表单（非必须）\n用type去标识从哪个入口进来\n用标识字段判断去请求相应的接口")]),E._v(" "),t("p",[E._v("2.数据加载与页面展示分离\n列表页数据的加载：\nrefresh\nload")]),E._v(" "),t("p",[E._v("3.封装方法提高复用性")]),E._v(" "),t("p",[E._v("4.常量提取提高代码可维护性")]),E._v(" "),t("p",[E._v("目前形成了一个前端的脚手架目录结构：")]),E._v(" "),t("p",[E._v("config.js \t--整合加载资源在全局中的名称\ntools\t  \t--常用的方法\nstrings --正则校验、字符串处理\ndates\t--时间的格式化和操作\nui\t\t--界面上的提示和操作的处理（连续点击禁止、函数防抖等）\nstorage\t--本地存储于获取？？\nrequest\t--分装请求")]),E._v(" "),t("p",[E._v("constant \t--常量集合\ntype.js \t--复用页面标识的常量及相应的数据配置\nkeys.js\t\t--储存key常量（防止冲突和便于维护）\nforms.js\t--设想作为类似快开平台明细表的配置\nmixin.js\t\t--混入的方法和变量\ngoto()\t\t--路由跳转封装\ngoBack()\t--路由返回封装（主要为了返回刷新的场景）\ngetParams()\t--获取路由中的传参\nisRefresh\t--判断是否需要刷新页面\nservices\t\t--加载数据和处理数据\nBaseService\t\t--公共数据和方法用于继承\nHseService\t--请求后台接口并处理数据和报错")])])}),[],!1,null,null,null);B.default=A.exports}}]);