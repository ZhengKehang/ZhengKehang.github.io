改造前：

1.页面数量
列表页入口
![](从合并HSE页面浅谈模块化开发_files/5.jpg)
![](从合并HSE页面浅谈模块化开发_files/6.jpg)
![](从合并HSE页面浅谈模块化开发_files/7.jpg)
![](从合并HSE页面浅谈模块化开发_files/8.jpg)
列表页：
![](从合并HSE页面浅谈模块化开发_files/9.jpg)
![](从合并HSE页面浅谈模块化开发_files/10.jpg)
![](从合并HSE页面浅谈模块化开发_files/11.jpg)
![](从合并HSE页面浅谈模块化开发_files/12.jpg)
![](从合并HSE页面浅谈模块化开发_files/13.jpg)
![](从合并HSE页面浅谈模块化开发_files/14.jpg)
![](从合并HSE页面浅谈模块化开发_files/15.jpg)
![](从合并HSE页面浅谈模块化开发_files/16.jpg)
![](从合并HSE页面浅谈模块化开发_files/17.jpg)
![](从合并HSE页面浅谈模块化开发_files/18.jpg)
![](从合并HSE页面浅谈模块化开发_files/19.jpg)

2.1.项目目录
![](从合并HSE页面浅谈模块化开发_files/1.jpg)
每一个HSE目录下的文件夹中都有一个列表页，对应入口一共10个页面
2.2项目代码：代码的量，代码内容
每一个页面的代码都包含html/css/js代码
![](从合并HSE页面浅谈模块化开发_files/2.jpg)
![](从合并HSE页面浅谈模块化开发_files/3.jpg)
![](从合并HSE页面浅谈模块化开发_files/4.jpg)
页面之间代码有一定差异
代码的量:每个页面平均210行代码，每个页面代码字符数约为6200，共62000字符的代码；
改造后：
1.代码量对比(具体数据)
代码集中在一个hseCardList.vue和hseService.js文件中；
代码量：5500+8000 = 13500字符的代码
2.代码维护的对比(搜索改版)
接到一个改版需求，将样式从A->B
![](从合并HSE页面浅谈模块化开发_files/19.jpg)
![](从合并HSE页面浅谈模块化开发_files/20.jpg)
旧版修改次数为10、新版修改次数为1，同时无需考虑，不同页面样式书写方式，带来的不同改版方式。大大提高了代码维护效率。

改造方案：
1.页面分析：
1.1提取页面组件
1.2提取功能点～封装js 方法

为什么原先是将类似的页面写在

1.3把封装的放在哪里是个问题？
我们项目组提取了一套js脚手架放在js文件夹下面：
脚手架的目录结构极其作用：
1.4代码如何引用(关键代码展示)
1.5这次改造是如何运用这套脚手架的？
1.6谈谈脚手架的其他优势

1.观察设计图，观察ui结构，提取功能点
从设计图看我们这里有：
	1.1一级类目页面
		功能点：展示、点击跳转（二级页面或者列表页面）
	1.2二级类目页面
		功能点：根据不同入口展示、点击跳转
		用category去标识从哪个入口进来
		用标识字段判断去加载相应的数据
	1.3列表页面
		功能点：列表页展示、加载更多、列表页刷新、搜索、查看详情、添加表单（非必须）
		用type去标识从哪个入口进来
		用标识字段判断去请求相应的接口
		
2.数据加载与页面展示分离
列表页数据的加载：
	refresh
	load
	

3.封装方法提高复用性

4.常量提取提高代码可维护性

目前形成了一个前端的脚手架目录结构：

config.js 	--整合加载资源在全局中的名称
tools	  	--常用的方法
	strings --正则校验、字符串处理
	dates	--时间的格式化和操作
	ui		--界面上的提示和操作的处理（连续点击禁止、函数防抖等）
	storage	--本地存储于获取？？
	request	--分装请求
	
constant 	--常量集合
	type.js 	--复用页面标识的常量及相应的数据配置
	keys.js		--储存key常量（防止冲突和便于维护）
	forms.js	--设想作为类似快开平台明细表的配置
mixin.js		--混入的方法和变量
	goto()		--路由跳转封装
	goBack()	--路由返回封装（主要为了返回刷新的场景）
	getParams()	--获取路由中的传参
	isRefresh	--判断是否需要刷新页面
services		--加载数据和处理数据
	BaseService		--公共数据和方法用于继承
		HseService	--请求后台接口并处理数据和报错
		
